# 魔法JS☆あれい 第9話「someなの、everyが許さない」

登場人物

丹生（にゅう）あれい
魔法少女「魔法（マジカル）JS（女子小学生）☆あれい」として活動中。

イテレー太
正体不明の魔法生物。

第1部「ミューテーター・メソッド編」
* [第1話「popでpushした、ような……」](https://qiita.com/8amjp/items/e44e707ccc8c95b4a40d)
* [第2話「shiftはとってもunshiftって」](https://qiita.com/8amjp/items/3fc1b2defd28ba1c2df3)
* [第3話「もうsortもreverseも怖くない」](https://qiita.com/8amjp/items/86f5294981fbebd3fe2d)
* [第4話「fillも、spliceも、copyWithinもあるんだよ」](https://qiita.com/8amjp/items/0741e35b70ea32711265)

第2部「アクセサ・メソッド編」
* [第5話「joinなんて、concatなわけない」](https://qiita.com/8amjp/items/229c41ad2146728abd89)
* [第6話「indexOfなの絶対lastIndexOf」](https://qiita.com/8amjp/items/f7e421722e419c1c0a7d)
* [第7話「includesのsliceと向き合えますか？」](https://qiita.com/8amjp/items/007ac192399225db3843)

第3部「イテレーション・メソッド編」
*第8話

## some()

イテレー太「さあ、戦いはまだまだ続くよ！」
あれい「ちょっと休憩させろよ駄犬」
イ「召喚したデータは前回を参照してね！　そして、今回の敵の弱点は、『'JavaScript'というタグを含む記事』だよ！　さあ、条件に合致するデータを`return`して敵を倒してよ！」
あ「面倒くせえなあ……」

```js
return items.filter(item => item.tags.some(tag => tag.name === 'JavaScript'))
```

あ「これでいいのか」
イ「さすがはあれい！　悩んで試行錯誤するとか、間違ってピンチに陥るとか、そういうストーリー展開的なやつをガン無視だね！」
あ「うるせえよ」

### 解説

> `filter()` メソッドは、引数として与えられたテスト関数を各配列要素に対して実行し、それに合格したすべての配列要素からなる新しい配列を生成します。

（[MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)より）

配列のすべての要素に対してテスト関数を実行し、条件に合致した要素のみを抽出するメソッドです。
テスト関数では、「現在の要素、現在の要素のインデックス、元の配列」という3つの引数を使用できます。引数を3つとも使用したい場合は、例えば`items.filter((item, i, _items) => ...)`などというように記述します。

## find()

イ「さて、次の敵の弱点は、『本文（`body`）中に'JavaScript'という文字列を含む記事のうち、一番新しい記事のデータ』だよ！」
あ「本気で面倒くせえやつだなあ……」
イ「頑張れ！　あれい！」

```js
return items.find(item  => /JavaScript/.test(item.body));
```

イ「さすがはあれい！　ちっとも盛り上がらないね！」
あ「だからうるせえよ」

### 解説

> `find()` メソッドは、提供されたテスト関数を満たす配列内の **最初の要素** の **値** を返します。

（[MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/find)より）

`find()` メソッドは`filter()` メソッドとよく似ており、テスト関数に渡される引数も同じです。
大きな違いは、`filter()` メソッドが**条件に合致したすべての要素を配列で返す**のに対し、`find()` メソッドは**条件に合致した最初の要素のみ**を返します。なので`find()` メソッドの戻り値は、条件に合致する要素があった場合はその単一の要素、なかった場合は`undefined`となります。

----
さて、魔法JS☆あれいは、魔法（JavaScript）の力でこの世界を守ることが出来るのか！？　次回に続く！
<!--stackedit_data:
eyJoaXN0b3J5IjpbNTcxMzQ1NTM4XX0=
-->